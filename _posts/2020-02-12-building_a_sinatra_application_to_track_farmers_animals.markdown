---
layout: post
title:      "Building a Sinatra application to track Farmer's animals"
date:       2020-02-12 22:33:17 +0000
permalink:  building_a_sinatra_application_to_track_farmers_animals
---


For my Sinatra CRUD(Create, Read, Update, Destroy) MVC(Models, Views, Controllers) Portfolio Project, I decided to make an application that would allow a user, a farmer in this case, to keep a count of how many animals they have and of what kind. The first thing to accomplish is, obviously, building a signup/login/logout system for users. I accomplished this through the use of bcyrpt to encode passwords for later user authentication along with enabling sessions through the base ApplicationController from which all other controllers inherit to allow for users to be logged in via storing the id of their user object into the session hash as :farmer_id. User authentication works by taking in the value of the :farmer_id key of the session hash and then checking that against the id of the current_farmer to make before allowing access to sensitive user pages, such as their edit page. On a particular farmer's edit page, one is given a list of all the kinds of animal one owns and the quantity of each owned and the option to delete the farmer's account in it's entirety, which only goes through if the user is logged_in? and their id matches the id stored in the session hash. Other than that, a user can choose to change the amount of any animal they have, even down to zero, and to add a new animal, if they so wish. If a user chooses to reduce the quantity of one of their animals to zero, the animal will no longer show up on their show page or their edit page. Furthermore, there is an index page for both animals and for farmers in which a user can see a list of all animals/farmers and can click on an individual animal/farmer's name to go to their individual show page which will list either all the farmers who own that kind of animal, or all the kinds of animals that farmer owns. Also, on an individual's show page, and on the index pages, the names of farmers/animals link to their own individual show pages. Furthermore, all show and index pages have links to both index pages. 
